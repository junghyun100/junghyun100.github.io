---
layout: post
title: "네트워크 - Ethernet(2)"
tags: [컴퓨터 네트워크]
comments: true

---

컴퓨터 네트워크를 공부하면서 정리를 한 내용들 입니다.

-참고 K-mooc 부산 대학교 유영환 교수님 : 컴퓨터 네트워크 강의

---

# Switch Forwarding Table

<img src="/images/2021년/0212/Switch Forwarding Table.PNG">

`A`로부터 받은 프레임을 `A'` 한테 전달 하고 

`B`에서 받은 프레임을 `B'`으로 전달하기 위해서는

어떤 포트로 내보내야 하는가를 알고 있어야하고, 

각 포트에 연결 되는 호스트의 MAC 주소를 알아야 됩니다.

그래서 허브 스위치는 `스위치 포워딩 테이블`을 유지하고 있습니다.

아래의 표를 예시로 들었을 때,

스위치에 도착한 프레임의 MAC 주소를 확인했을 때 `A'`으로 전송 되어야 한다면

4번 인터페이스로 내보내야 한다는 것을 판단할 수 있습니다.

# Plug-and-Play, Self-Learning

<img src="/images/2021년/0212/Plug-and-Play,Self-Learning.PNG">

그런데 이러한 테이블을 일일이 관리자가, 사용자가 세팅 해 주기는 어렵습니다.

허브 스위치의 개수가 1~2개 정도가 아니라 수 십, 수 백개일 때 

각 포트마다 연결 되어 있는 컴퓨터의 MAC 주소를 저장 하는 것은 어렵기 때문에

허브 스위치는 `plug-and-play`, `self-learning` 기술을 써서 

각 `sender`의 위치나 `receiver`의 위치를 알게 됩니다.

### Example

허브 스위치가 1번 포트에 뭐가 꽂혀 있는지 모른다고 가정을 해 봅시다.

스위치에 어느 순간 1번 포트로 뭔가 데이터가 들어옵니다.

데이터의 source 주소를 확인 했을 때 `A`인 것을 확인했습니다.

그럼 허브 스위치는 

"인터페이스 1번에는 source MAC 주소를 사용하는 A 컴퓨터가 있다."

라고 테이블에 기록하게 됩니다.

# Self-Learning and Forwarding Example

<img src="/images/2021년/0212/Self-Learning and Forwarding Example.PNG">

이런 경우도 있습니다. 

`A'` 이라는 주소를 쓰는 컴퓨터가 이제 막 허브 스위치가 연결이 되었다면

이 링크를 통해서 데이터를 보내지 않았기 때문에

MAC 주소를 지금 모르는 상태 입니다.

이 때 `A`가 `A'` 쪽으로 데이터를 보낸다면 허브 스위치 `A'`의 MAC 주소를 모릅니다.

그럼 허브 스위치는 모든 곳으로 플러딩을 해 버립니다.

그럼 `A'`는 이것에 응답을 하게됩니다.

그 때 허브 스위치는 4번 인터페이스에 

A' 주소를 사용하는 컴퓨터가 있단 것을 알게 됩니다.

그래서 이런 방식으로 <strong>self-learning</strong>이 가능합니다.

# Institutional Network

<img src="/images/2021년/0212/Institutional Network.PNG">

보통의 기관 네트워크들은 그림과 같이 연결 되어 있습니다. 

각각의 컴퓨터들은 허브 스위치에 연결이 되어 있고,

계층적으로 해서 실제로 이더넷 스위치를 통해서 네트워크가 연결이 되고

하나의 서브넷은 하나의 게이트웨이 라우터를 통해서 

외부와 연결이 되는 형태로 보통 이루어져 있집니다.

# Switches vs. Routers

<img src="/images/2021년/0212/Switches vs. Routers.PNG">

스위치와 라우터를 간단히 비교 해 보면

라우터는 네트워크 레이어에서 IP 헤더까지 관찰을 해서

데이터그램을 목적지 네트워크까지 전달 해 주는 그런 역할을 하고,

스위치는 링크 레이어에서 프레임 헤더를 관찰을 해서 

프레임을 목적지 주소로 전달해주는 역할을 합니다.

라우터의 경우에는 IP 주소를 보고 목적지 네트워크까지 전달 해 주기위해

라우터는 라우팅 테이블을 가지고,

스위치는 하나의 같은 Local Network Area Network 에서

데이터를 전달하기 위한 MAC address 스위칭 테이블을 가지고 있습니다.
 
---
